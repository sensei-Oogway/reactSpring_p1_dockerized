version: '3'

services:
  server:
    build: ./Java
    # image: java (Build will link it)
    ports: 
    - ${SERVERPORT}:${SERVERPORT}
    networks:
      - project

  client:
    build: ./React_files/demo_app
    # image: react (Build will link it)
    ports:
    - ${CLIENTPORT}:${CLIENTPORT}
    environment:
      - REACT_APP_PROXY_ADDR=http://server:${SERVERPORT}
    networks:
      - project

networks:
  project:
    driver: bridge